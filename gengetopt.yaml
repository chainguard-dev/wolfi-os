package:
  name: gengetopt
  version: 2.23
  description: "A tool to write command line option parsing code for C programs"
  copyright:
    - license: GPL-3.0-or-later
environment:
  contents:
    packages:
      - build-base
      - busybox
      - autoconf
      - automake
      - libtool
      - m4
      - bison
var-transforms:
  - from: ${{package.version}}
    match: \.
    replace: _
    to: underscore-package-version
pipeline:
  - uses: git-checkout
    with:
      repository: https://git.savannah.gnu.org/git/gengetopt.git
      tag: rel_${{vars.underscore-package-version}}
      expected-commit: 0cfa550af4909f74bccbecde1d9bbc4c435751bd

  - uses: autoconf/configure

  - uses: autoconf/make

  - uses: autoconf/make-install

  - uses: strip
