package:
  name: libsdl3
  version: 2.30.5
  epoch: 0
  description: Simple Directmedia Layer
  copyright:
    - license: Zlib

environment:
  contents:
    packages:
      - build-base
      - busybox
      - ca-certificates-bundle

pipeline:
  - uses: git-checkout
    with:
      repository: https://github.com/libsdl-org/SDL
      tag: release-${{package.version}}
      expected-commit: 2eef7ca475decd2b864214cdbfe72b143b16d459

  - uses: cmake/configure

  - uses: cmake/build

  - uses: cmake/install

subpackages:
  - name: ${{package.name}}-dev
    dependencies:
      runtime:
        - libsdl3
    pipeline:
      - uses: split/dev

  - name: ${{package.name}}-doc
    pipeline:
      - uses: split/dev

update:
  enabled: true
  github:
    identifier: libsdl-org/SDL%
