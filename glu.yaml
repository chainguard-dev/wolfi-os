package:
  name: glu
  version: 9.0.3
  epoch: 0
  description: Mesa OpenGL Utility library
  copyright:
    - license: SGI-B-1.1 AND SGI-B-2.0

environment:
  contents:
    packages:
      - autoconf
      - automake
      - build-base
      - busybox
      - ca-certificates-bundle
      - mesa-dev
      - mesa-osmesa
      - meson

pipeline:
  - uses: fetch
    with:
      expected-sha256: bd43fe12f374b1192eb15fe20e45ff456b9bc26ab57f0eee919f96ca0f8a330f
      uri: https://mesa.freedesktop.org/archive/glu/glu-${{package.version}}.tar.xz

  - uses: meson/configure
    with:
      opts: |
        -Db_lto=true \
        -Ddefault_library=shared \
        -Dgl_provider=osmesa

  - uses: meson/compile

  - uses: meson/install

  - uses: strip

subpackages:
  - name: glu-dev
    pipeline:
      - uses: split/dev
    dependencies:
      runtime:
        - glu
        - mesa-dev
    description: glu dev

update:
  enabled: true
  release-monitor:
    identifier: 13518
