package:
  name: py3-requests-unixsocket
  version: 0.3.0
  epoch: 0
  description: Use requests to talk HTTP via a UNIX domain socket
  copyright:
    - license: Apache-2.0
  dependencies:
    runtime:
      - py3-requests

environment:
  contents:
    packages:
      - busybox
      - py3-pip
      - py3-setuptools
      - python3

pipeline:
  - uses: fetch
    with:
      expected-sha256: 28304283ea9357d45fff58ad5b11e47708cfbf5806817aa59b2a363228ee971e
      uri: https://files.pythonhosted.org/packages/source/r/requests-unixsocket/requests-unixsocket-${{package.version}}.tar.gz

  - runs: |
      python3 setup.py bdist_wheel

  - runs: |
      python3 setup.py install --prefix=/usr --root="${{targets.destdir}}" --skip-build

  - uses: strip

update:
  enabled: true
  release-monitor:
    identifier: 375444

test:
  environment:
    contents:
      packages:
        - python3
  pipeline:
    - uses: python/import
      with:
        python: python3
        import: requests_unixsocket
