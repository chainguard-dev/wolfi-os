package:
  name: kapp
  version: 0.63.3
  epoch: 0
  description: kapp is a simple deployment tool focused on the concept of "Kubernetes application" â€” a set of resources with the same label
  copyright:
    - license: Apache-2.0

pipeline:
  - uses: git-checkout
    with:
      expected-commit: e77aa1c451be38edf91f063094a28c1dd1f08deb
      repository: https://github.com/carvel-dev/kapp
      tag: v${{package.version}}

  - uses: go/bump
    with:
      deps: k8s.io/kubernetes@v1.30.3

  - uses: go/build
    with:
      packages: ./cmd/kapp
      output: kapp
      ldflags: -X carvel.dev/kapp/pkg/kapp/version.Version=v${{package.version}}

  - uses: strip

update:
  enabled: true
  github:
    identifier: carvel-dev/kapp
    strip-prefix: v

test:
  pipeline:
    - name: version check
      runs: |
        kapp version | grep ${{package.version}}
