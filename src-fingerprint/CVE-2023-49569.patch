From 78143dbbdd9022148d38e5e64ec28189c9a26849 Mon Sep 17 00:00:00 2001
From: Philippe Deslauriers <philde@chainguard.dev>
Date: Wed, 31 Jan 2024 14:54:21 -0800
Subject: [PATCH] Upgrade go-git library to v5 to remediate CVE-2023-49569

Signed-off-by: Philippe Deslauriers <philde@chainguard.dev>
---
 analyzer.go      | 2 +-
 analyzer_test.go | 2 +-
 pipeline.go      | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/analyzer.go b/analyzer.go
index d60a54e..aa3cbd4 100644
--- a/analyzer.go
+++ b/analyzer.go
@@ -1,7 +1,7 @@
 package srcfingerprint
 
 import (
-	git "gopkg.in/src-d/go-git.v4/plumbing/object"
+	git "github.com/go-git/go-git/v5/plumbing/object"
 )
 
 // Analyzer analyzer a commit to extract its author.
diff --git a/analyzer_test.go b/analyzer_test.go
index e48961d..0c76f15 100644
--- a/analyzer_test.go
+++ b/analyzer_test.go
@@ -3,9 +3,9 @@ package srcfingerprint
 import (
 	"testing"
 
+	"github.com/go-git/go-git/v5/plumbing/object"
 	"github.com/stretchr/testify/assert"
 	"github.com/stretchr/testify/suite"
-	"gopkg.in/src-d/go-git.v4/plumbing/object"
 )
 
 type AnalyzerTestSuite struct {
diff --git a/pipeline.go b/pipeline.go
index fcfd5f0..f1a77fe 100644
--- a/pipeline.go
+++ b/pipeline.go
@@ -8,8 +8,8 @@ import (
 	"sync"
 	"time"
 
+	"github.com/go-git/go-git/v5/plumbing/object"
 	log "github.com/sirupsen/logrus"
-	"gopkg.in/src-d/go-git.v4/plumbing/object"
 )
 
 // PipelineEvent is the interface for a pipeline event.
-- 
2.43.0

