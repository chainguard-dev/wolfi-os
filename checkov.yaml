package:
  name: checkov
  version: 2.2.330
  epoch: 0
  description: "Prevent cloud misconfigurations and find vulnerabilities during build-time in infrastructure as code, container images and open source packages with Checkov by Bridgecrew."
  target-architecture:
    - all
  copyright:
    - paths:
      - "*"
      attestation: TODO
      license: Apache-2.0
  dependencies:
    runtime:
      - python3

environment:
  contents:
    packages:
      - busybox
      - ca-certificates-bundle
      - build-base
      - python3
      - python3-dev
      - libffi-dev
      - py3-setuptools
      - py3-pip
      - py3-gpep517
      
pipeline:
  - uses: fetch
    with:
      uri: https://github.com/bridgecrewio/checkov/archive/refs/tags/${{package.version}}.tar.gz
      expected-sha256: 62b7bfb35cbfb3d94485a2b521d74e530c571f68f13f17963a50e282ed1b035a
  - runs: |
      ls
      python3 setup.py sdist bdist_wheel
      python3 -m installer -d "${{targets.destdir}}" dist/checkov*.whl
  - uses: strip
